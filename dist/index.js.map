{"version":3,"sources":["components/DatasetCard.vue","index.js"],"names":[],"mappings":";AAgBA,aAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACA,MAAA,CACA,IAAA,CACA,KAAA,OACA,QAAA,MAEA,SAAA,CACA,KAAA,QACA,SAAA,IAGA,KAAA,WACA,MAAA,CACA,OAAA,OACA,WAAA,EACA,UAAA,0CAGA,SAAA,CACA,KAAA,WACA,IAAA,EAAA,SAAA,cAAA,OAOA,OANA,EAAA,UAAA,KAAA,OAAA,KAEA,KAAA,UACA,EAAA,WAAA,SAAA,GAAA,gBAAA,QAGA,EAAA,YAGA,QA9BA,WAAA,IAAA,EAAA,EAAA,mBAAA,KAAA,SAAA,IAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EA+BA,KAAA,UAAA,KAAA,KA/BA,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,SAAA,OAAA,WAAA,OAAA,EAAA,MAAA,KAAA,YAAA,GAiCA,QAAA,CACA,UADA,WAAA,IAAA,EAAA,EACA,mBAAA,KAAA,SAAA,EAAA,GADA,IAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAIA,GAFA,KAAA,WAAA,EACA,KAAA,OAAA,GACA,EAJA,CAAA,EAAA,KAAA,EAAA,MAAA,OAAA,EAAA,OAAA,UAAA,KAAA,EAOA,OAPA,EAAA,KAAA,EAMA,EAAA,GAAA,OAAA,KAAA,UAAA,SAAA,OAAA,mBAAA,IANA,EAAA,KAAA,EAOA,MAAA,GAPA,KAAA,EASA,KAFA,EAPA,EAAA,MASA,GATA,CAAA,EAAA,KAAA,GAAA,MAUA,OAVA,EAAA,KAAA,GAUA,EAAA,OAVA,KAAA,GAUA,KAAA,OAVA,EAAA,KAAA,EAAA,KAAA,GAAA,MAAA,KAAA,GAYA,KAAA,MAAA,EAAA,WAZA,KAAA,GAAA,EAAA,KAAA,GAAA,MAAA,KAAA,GAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAeA,KAAA,MAAA,EAAA,GAfA,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,EAAA,SAAA,OAAA,SAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA,IAmBA,MAAA,CACA,IAAA,SAAA,GACA,KAAA,UAAA,MAtDA,QAAA,QAAA;;;AChBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,IAAA,EAAA,EAAA,QAAA,iCAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA","file":"index.js","sourceRoot":"..","sourcesContent":["<template>\n  <div>\n    <b-spinner\n      variant=\"secondary\"\n      small\n      v-if=\"!oembed.type\"\n    />\n    <div\n      class=\"oembed-content\"\n      v-if=\"oembed.type\"\n      v-html=\"html\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      default: null\n    },\n    inactive: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      oembed: Object,\n      error: undefined,\n      oembedApi: 'https://www.data.gouv.fr/api/1/oembed'\n    }\n  },\n  computed: {\n    html () {\n      const el = document.createElement('div')\n      el.innerHTML = this.oembed.html\n\n      if (this.inactive) {\n        el.firstChild.children[2].removeAttribute('href')\n      }\n\n      return el.innerHTML\n    }\n  },\n  async created () {\n    this.getOembed(this.url)\n  },\n  methods: {\n    async getOembed (url) {\n      this.error = undefined\n      this.oembed = {}\n      if (!url) return\n      try {\n        const oembedUrl = `${this.oembedApi}?url=${encodeURIComponent(url)}`\n        const response = await fetch(oembedUrl)\n\n        if (response.ok) {\n          this.oembed = await response.json()\n        } else {\n          this.error = response.statusText\n        }\n      } catch (error) {\n        this.error = error\n      }\n    }\n  },\n  watch: {\n    url (value) {\n      this.getOembed(value)\n    }\n  }\n}\n</script>\n","import DatasetCard from './components/DatasetCard.vue'\n\nexport {DatasetCard}\n"]}